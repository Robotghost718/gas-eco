<script>
  /* global HTML Utility OpenFormsTable EquipmentOutTable */
  /* exported OpenFormsPage */
  function OpenFormsPage({
    ascending,
    itemsOutSort,
    itemsOutSortAscending,
    openForms,
    setForm,
    sortedBy,
    onSortForms,
    onSortItemsOut,
  }) {
    const { createElement, documentIcon, headerCell, page, row, table } = HTML;
    const { uncamelCase } = Utility;
    return page({
      name: "openForms",
      children: [
        createElement("h2", { textContent: "Open Forms" }),
        createElement("h3", {
          textContent: "click on a form to view and edit",
        }),
        table(
          createElement("thead", {
            class: "open",
            children: [
              headerCell({ child: documentIcon() }),
              ...["startTime", "endTime", "location", "students"].map((text) =>
                createElement("th", {
                  class:
                    text === sortedBy
                      ? `sortedBy ${ascending ? "" : "descending"}`
                      : "",
                  onClick: () => onSortForms(text),
                  textContent: uncamelCase(text),
                })
              ),
            ],
          }),
          OpenFormsTable({ openForms, setForm })
        ),
        createElement("h2", { textContent: "Equipment Checked Out" }),
        table(
          createElement("thead", {
            class: "equipmentOut",
            child: row(
              ...["description", "id", "location", "students", "endTime"].map(
                (text) =>
                  createElement("th", {
                    textContent: uncamelCase(text),
                    class:
                      text === itemsOutSort
                        ? `sortedBy ${
                            itemsOutSortAscending ? "" : "descending"
                          }`
                        : "",
                    onClick: () => onSortItemsOut(text),
                  })
              )
            ),
          }),
          EquipmentOutTable({
            itemsOutSort,
            itemsOutSortAscending,
            openForms,
            setForm,
          })
        ),
      ],
    });
  }
</script>
